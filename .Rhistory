criterion="RMSEA",minInd=3,niter=10)
summary(out)
autoSEM
1e10
library(autoSEM)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=100)
summary(out)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=100)
summary(out)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
fit <- cfa(HS.model, data=HolzingerSwineford1939)
library(lavaan)
myData =  HolzingerSwineford1939[,7:15]
HS.model <- ' visual =~ x1 + x2 + x3
textual =~ x4 + x5 + x6
speed =~ x7 + x8 + x9 '
fit <- cfa(HS.model, data=HolzingerSwineford1939)
fit.boot = try(lavaan::bootstrapLavaan(fit,type="yuan",R=R,FUN=fitmeasures,
fit.measures=c("chisq","rmsea","bic","bic2","aic")),silent=TRUE)
fit.boot
R=20
fit.boot = try(lavaan::bootstrapLavaan(fit,type="yuan",R=R,FUN=fitmeasures,
fit.measures=c("chisq","rmsea","bic","bic2","aic")),silent=TRUE)
fit.boot
library(autoSEM)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=10)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
summary(out)
library(autoSEM)
myData =  HolzingerSwineford1939[,7:15]
#'
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8","x9")
#'
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
summary(out)
library(autoSEM)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
summary(out)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=1)
summary(out)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
library(lavaan)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
myData =  HolzingerSwineford1939[,7:15]
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8","x9")
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV=F,R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
library(autoSEM)
myData =  HolzingerSwineford1939[,7:15]
#'
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8","x9")
#'
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV=F,R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
library(autoSEM)
library(autoSEM)
myData =  HolzingerSwineford1939[,7:15]
#'
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8","x9")
#'
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,R=50,
criterion="RMSEA",minInd=3,niter=10)
summary(out)
summary(out)
myData =  HolzingerSwineford1939[,7:15]
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8","x9")
rrr = list(f1.vars)
facs <- 1:4
#'
#'
out = multFac(facList=facs,parallel="yes",ncore=4,method="GA",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter="default")
?multFac
out = multFac(facList=facs,parallel="yes",ncore=4,method="GA",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter="default",niter=1)
library(autoSEM)
out = multFac(facList=facs,parallel="yes",ncore=4,method="GA",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter="default",niter=1)
library(autoSEM)
out = multFac(facList=facs,parallel="yes",ncore=4,method="GA",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter=1)
library(autoSEM)
out = multFac(facList=facs,parallel="yes",ncore=4,method="GA",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter=1)
out
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
cor(pred2,Boston$medv)**2
library(rpart)
library(caret)
# ----------------- continuous outcomes
library(MASS) # for boston data
data(Boston)
#------- linear regression
lm.Boston <- lm(medv ~., data=Boston)
summary(lm.Boston) # pretty good -- Rsquared = 0.74
rpart.Boston <- rpart(medv ~., data=Boston)
#summary(rpart.Boston)
plot(rpart.Boston);text(rpart.Boston) # ugly
pred1 <- predict(rpart.Boston)
cor(pred1,Boston$medv)**2
library(party);library(partykit)
#plot(ctree.Boston) # too big of a tree
pred2 <- predict(ctree.Boston)
ctree.Boston <- party::ctree(medv ~., data=Boston)
cor(pred2,Boston$medv)**2
ctree.Boston <- party::ctree(medv ~., data=Boston)
#plot(ctree.Boston) # too big of a tree
pred2 <- predict(ctree.Boston)
cor(pred2,Boston$medv)**2
gbm.Boston <- train(medv~.,data=Boston,method="gbm",
tuneLength=1) # use tuneLength=1 for simplicity
summary(gbm.Boston)
print(gbm.Boston)
# using bootstrapping, the Rsquared is 0.80
pred3 <- predict(gbm.Boston)
cor(pred3,Boston$medv)**2
rf.Boston <- train(medv~.,data=Boston,method="rf",
tuneLength=1) # use tuneLength=1 for simplicity
print(rf.Boston)
# using bootstrapping, the Rsquared is 0.87
pred4 <- predict(rf.Boston)
cor(pred4,Boston$medv)**2
library(autoSEM)
library(lavaan)
myData =  HolzingerSwineford1939[,7:15]
HS.model <- ' visual =~ x1 + x2 + x3
textual =~ x4 + x5 + x6
speed =~ x7 + x8 + x9 '
fit <- cfa(HS.model, data=HolzingerSwineford1939)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",
criterion="NCP",minInd=3,niter=10)
library(autoSEM)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",
criterion="NCP",minInd=3,niter=2)
library(autoSEM)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV="boot",
criterion="NCP",minInd=3,niter=2)
out = autoSEM(method="GA",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=2)
count
count=1
cat("iters = ",count)
library(autoSEM)
library(autoSEM)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=2)
print(cat("iters = ",count))
cat(paste("iters = ",count)); flush.console()
library(autoSEM)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=2)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=2)
library(autoSEM)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=2)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=4)
cat(paste("iters = ",count)); flush.console()
cat(paste("iters = ",count)); flush.console()
flush.console()
?flush.console
cat(paste(count," ")); flush.console()
library(autoSEM)
out = autoSEM(method="tabu",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=4)
library(autoSEM)
out = autoSEM(method="aco",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=4)
library(autoSEM)
library(autoSEM)
head(myData)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",minInd=3,niter=4)
out = autoSEM(method="GA",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",minInd=3,niter=4)
library(autoSEM)
out = autoSEM(method="GA",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",minInd=3,niter=4)
method="GA"
out = autoSEM(method="tabu",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",minInd=3,niter=4)
HS.model <- '
x9 ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8 + x9 '
fit <- sem(HS.model, data=HolzingerSwineford1939)
head(HolzingerSwineford1939)
HS.model <- '
sex ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8 + x9 '
fit <- sem(HS.model, data=HolzingerSwineford1939)
fitMeasures(fit)
HS.model <- '
sex ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + 0*x8 + 0*x9 '
fit <- sem(HS.model, data=HolzingerSwineford1939)
fitMeasures(fit)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="tabu",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
library(autoSEM)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="tabu",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
yList = "x9"
string=c(0,1,1,1,1,1,0,0,1)
outcome = unlist(yList)
uu = gsub("1","start(1)*",string)
uu = gsub("0","0*",uu)
uu
uu2 = paste(uu,lll,sep="")
ll=varList
rrr = list(f1.vars)
lll=rrr
uu2 = paste(uu,lll,sep="")
uu2
uu
ooo = paste(paste(outcome," ~ "), ooo)
ooo=list()
ooo = paste(paste(outcome," ~ "), ooo)
ooo
ooo =  paste0(uu2,collapse="+")
ooo
uu2
lll
uu
uu2 = paste(uu,lll,sep="")
uu2
out = autoSEM(method="aco",type="fac",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=4)
summary(out)
nfac=1
lll = varList
jjj = list()
for(i in 1:nfac){
jjj[[i]] = lll
}
jjj
jjj =  list()
for(i in 1:nfac){
jjj[[i]] =  string[1:length(lll[[1]])]
string = string[-(1:length(lll[[1]]))]
}
string
jjj
facc = paste("f",i,sep="")
uu = gsub("1","start(1)*",jjj[[i]])
uu
uu = gsub("0","0*",uu)
uu
uu2 = paste(uu,lll[[1]],sep="")
uu2
lll
outcome = unlist(yList)
uu = gsub("1","start(1)*",string)
uu = gsub("0","0*",uu)
uu2 = paste(uu,lll,sep="")
uu2
lll
string
string=c(0,1,1,1,1,1,1,0)
outcome = unlist(yList)
uu = gsub("1","start(1)*",string)
uu = gsub("0","0*",uu)
uu2 = paste(uu,lll,sep="")
uu2
lll
outcome = unlist(yList)
uu = gsub("1","start(1)*",string)
uu = gsub("0","0*",uu)
uu2 = paste(uu,lll[[1]],sep="")
uu2
ooo =  paste0(uu2,collapse="+")
ooo = paste(paste(outcome," ~ "), ooo)
ooo
library(autoSEM)
out = autoSEM(method="tabu",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
library(autoSEM)
out = autoSEM(method="tabu",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
out
out = autoSEM(method="GA",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="GA",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=4)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="NCP",niter=40)
out
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="BIC",niter=40)
out
library(lavaan)
mod <-"
y ~ 0*x1 + 0*x2 + 0*x3 + .5*x4 + .5*x5 + .5*x6"
dat <- simulateData(mod,model.type="sem",sample.nobs=500)
rrr = list("x1","x2","x3","x4","x5","x6")
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="BIC",niter=40)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="BIC",niter=40)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV="boot",
criterion="BIC",niter=40)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV="boot",
criterion="rmsea",niter=20)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV="boot",
criterion="BIC",niter=20)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="ncp",niter=20)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="ncp",niter=20)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="ncp",niter=20)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="NCP",niter=20)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="GA",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=F,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="GA",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="aco",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="tabu",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="RMSEA",niter=20)
summary(out)
out = autoSEM(method="tabu",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="RMSEA",niter=20)
y ~ 0*x1 + 0*x2 + 0*x3 + 1*x4 + 1*x5 + 1*x6"
dat <- simulateData(mod,model.type="sem",sample.nobs=500)
mod <-"
y ~ 0*x1 + 0*x2 + 0*x3 + 1*x4 + 1*x5 + 1*x6"
dat <- simulateData(mod,model.type="sem",sample.nobs=500)
rrr = list("x1","x2","x3","x4","x5","x6")
out = autoSEM(method="tabu",type="reg",data=dat,
varList=rrr,yList=list("y"),CV=T,
criterion="RMSEA",niter=20)
out = autoSEM(method="tabu",type="reg",data=dat,
varList=rrr,yList=list("y"),CV="boot",
criterion="RMSEA",niter=20)
summary(out)
library(autoSEM)
library(autoSEM)
library(autoSEM)
library(autoSEM)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter=3)
facs <- 1:4
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter=3)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,orth=FALSE,CV=FALSE,std.lv=TRUE,
varList=rrr,criterion="RMSEA",niter=3)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=3)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=5)
uu
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=50)
?fitmeasures
library(autoSEM)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=50)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
library(autoSEM)
varList=rrr,criterion="RMSEA",niter=50)
uu = multFac(facList=facs,parallel="yes",ncore=4,method="aco",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=50)
uu
uu = multFac(facList=facs,parallel="yes",ncore=4,method="tabu",
data=myData,CV=FALSE,
varList=rrr,criterion="RMSEA",niter=50)
f1.vars <- c("x1","x2","x3","x4","x5","x6","x7","x8")
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="BIC",niter=40)
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="BIC",niter=40)
library(autoSEM)
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="BIC",niter=40)
out = autoSEM(method="aco",type="fac",data=myData,nfac=1,
varList=list(f1.vars),CV=F,
criterion="NCP",minInd=3,niter=4)
summary(out)
out = autoSEM(method="aco",type="reg",data=myData,
varList=list(f1.vars),yList=list("x9"),CV=F,
criterion="BIC",niter=40)
